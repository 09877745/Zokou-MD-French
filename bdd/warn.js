const a15_0x4193b0=a15_0x454b;(function(_0x4e1913,_0x3af01c){const _0x428a7c=a15_0x454b,_0x42b99c=_0x4e1913();while(!![]){try{const _0x2e1164=-parseInt(_0x428a7c(0x112))/0x1*(-parseInt(_0x428a7c(0x116))/0x2)+-parseInt(_0x428a7c(0x11b))/0x3*(parseInt(_0x428a7c(0x133))/0x4)+parseInt(_0x428a7c(0x129))/0x5+parseInt(_0x428a7c(0x114))/0x6*(-parseInt(_0x428a7c(0x12d))/0x7)+parseInt(_0x428a7c(0x130))/0x8+parseInt(_0x428a7c(0x11e))/0x9+parseInt(_0x428a7c(0x125))/0xa*(-parseInt(_0x428a7c(0x12b))/0xb);if(_0x2e1164===_0x3af01c)break;else _0x42b99c['push'](_0x42b99c['shift']());}catch(_0x3a03c2){_0x42b99c['push'](_0x42b99c['shift']());}}}(a15_0x5c98,0x7c661),require('dotenv')[a15_0x4193b0(0x11d)]());const {Pool}=require('pg'),s=require(a15_0x4193b0(0x11a));function a15_0x454b(_0x56b7b7,_0x14d4db){const _0x4e159d=a15_0x5c98();return a15_0x454b=function(_0x3666c4,_0x6cc4b4){_0x3666c4=_0x3666c4-0x10d;let _0x5c9890=_0x4e159d[_0x3666c4];return _0x5c9890;},a15_0x454b(_0x56b7b7,_0x14d4db);}var dbUrl=s[a15_0x4193b0(0x128)]?s[a15_0x4193b0(0x128)]:a15_0x4193b0(0x117);function a15_0x5c98(){const _0x1045a4=['toString','rows','79kHIfWY','query','6vgitas','warn_count','13934xbPSGS','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','connect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20warn_users\x20(jid,\x20warn_count)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(jid)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20warn_count\x20=\x20warn_users.warn_count\x20+\x201;\x0a\x20\x20\x20\x20\x20\x20','../set','3nMjXxz','Utilisateur\x20','config','3587598xPHUup','error','La\x20table\x20\x27warn_users\x27\x20a\x20été\x20créée\x20avec\x20succès.','Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20warn_count\x20:','length','log','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27utilisateur\x20:','20yZOvmk','apply','release','DATABASE_URL','3050700PJxJLE','constructor','3361039UURRUR','Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27warn_users\x27:','1039066JZTgWj','\x20a\x20été\x20réinitialisé\x20à\x200.','(((.+)+)+)+$','316408TUZdas','\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20un\x20warn_count\x20de\x201.','search','1318532zmZRDV','Le\x20warn_count\x20de\x20l\x27utilisateur\x20','Erreur\x20lors\x20de\x20la\x20réinitialisation\x20du\x20warn_count\x20:','UPDATE\x20warn_users\x20SET\x20warn_count\x20=\x200\x20WHERE\x20jid\x20=\x20$1'];a15_0x5c98=function(){return _0x1045a4;};return a15_0x5c98();}const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function creerTableWarnUsers(){const _0x7c5256=a15_0x4193b0,_0x408b9d=(function(){let _0x36a2d1=!![];return function(_0x15732b,_0x2a1456){const _0x205497=_0x36a2d1?function(){const _0x96dcf5=a15_0x454b;if(_0x2a1456){const _0x190eb0=_0x2a1456[_0x96dcf5(0x126)](_0x15732b,arguments);return _0x2a1456=null,_0x190eb0;}}:function(){};return _0x36a2d1=![],_0x205497;};}()),_0x5da82e=_0x408b9d(this,function(){const _0x269cae=a15_0x454b;return _0x5da82e[_0x269cae(0x110)]()[_0x269cae(0x132)](_0x269cae(0x12f))['toString']()[_0x269cae(0x12a)](_0x5da82e)['search'](_0x269cae(0x12f));});_0x5da82e();const _0x507f15=await pool[_0x7c5256(0x118)]();try{const _0x42d22f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20warn_users\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20warn_count\x20integer\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20';await _0x507f15['query'](_0x42d22f),console['log'](_0x7c5256(0x120));}catch(_0xd6e1dd){console[_0x7c5256(0x11f)](_0x7c5256(0x12c),_0xd6e1dd);}finally{_0x507f15[_0x7c5256(0x127)]();}};creerTableWarnUsers();async function ajouterUtilisateurAvecWarnCount(_0x136735){const _0x12e75c=a15_0x4193b0,_0x2e5955=await pool['connect']();try{const _0x100aa4=_0x12e75c(0x119),_0x2e08f3=[_0x136735];await _0x2e5955[_0x12e75c(0x113)](_0x100aa4,_0x2e08f3),console[_0x12e75c(0x123)](_0x12e75c(0x11c)+_0x136735+_0x12e75c(0x131));}catch(_0x2e026d){console[_0x12e75c(0x11f)](_0x12e75c(0x124),_0x2e026d);}finally{_0x2e5955[_0x12e75c(0x127)]();}};async function getWarnCountByJID(_0x4bb53c){const _0x49c09a=a15_0x4193b0,_0xbd369f=await pool[_0x49c09a(0x118)]();try{const _0x1139d0='SELECT\x20warn_count\x20FROM\x20warn_users\x20WHERE\x20jid\x20=\x20$1',_0x18f883=[_0x4bb53c],_0x3fe279=await _0xbd369f[_0x49c09a(0x113)](_0x1139d0,_0x18f883);if(_0x3fe279[_0x49c09a(0x111)][_0x49c09a(0x122)]>0x0){const _0x4c9020=_0x3fe279[_0x49c09a(0x111)][0x0][_0x49c09a(0x115)];return _0x4c9020;}else return 0x0;}catch(_0x289a98){return console[_0x49c09a(0x11f)](_0x49c09a(0x121),_0x289a98),-0x1;}finally{_0xbd369f[_0x49c09a(0x127)]();}};async function resetWarnCountByJID(_0x54e320){const _0x483acd=a15_0x4193b0,_0x3ee269=await pool[_0x483acd(0x118)]();try{const _0x31e011=_0x483acd(0x10f),_0x47fa4f=[_0x54e320];await _0x3ee269[_0x483acd(0x113)](_0x31e011,_0x47fa4f),console[_0x483acd(0x123)](_0x483acd(0x10d)+_0x54e320+_0x483acd(0x12e));}catch(_0x965bb9){console[_0x483acd(0x11f)](_0x483acd(0x10e),_0x965bb9);}finally{_0x3ee269[_0x483acd(0x127)]();}}module['exports']={'ajouterUtilisateurAvecWarnCount':ajouterUtilisateurAvecWarnCount,'getWarnCountByJID':getWarnCountByJID,'resetWarnCountByJID':resetWarnCountByJID};