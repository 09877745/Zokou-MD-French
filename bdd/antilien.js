const a3_0x84ee67=a3_0xfcbb;(function(_0x2fd6ba,_0x3a6428){const _0x14f39a=a3_0xfcbb,_0x34796e=_0x2fd6ba();while(!![]){try{const _0x1f0d01=-parseInt(_0x14f39a(0xd5))/0x1*(-parseInt(_0x14f39a(0xd4))/0x2)+-parseInt(_0x14f39a(0xe2))/0x3+parseInt(_0x14f39a(0xe9))/0x4+parseInt(_0x14f39a(0xf1))/0x5*(parseInt(_0x14f39a(0xd3))/0x6)+parseInt(_0x14f39a(0xdc))/0x7+parseInt(_0x14f39a(0xf6))/0x8*(parseInt(_0x14f39a(0xe3))/0x9)+parseInt(_0x14f39a(0xe0))/0xa*(-parseInt(_0x14f39a(0xd0))/0xb);if(_0x1f0d01===_0x3a6428)break;else _0x34796e['push'](_0x34796e['shift']());}catch(_0x55b627){_0x34796e['push'](_0x34796e['shift']());}}}(a3_0x21f9,0xa7ad9),require(a3_0x84ee67(0xcb))[a3_0x84ee67(0xed)]());function a3_0xfcbb(_0x1cb5ee,_0x5bb34e){const _0x359066=a3_0x21f9();return a3_0xfcbb=function(_0x14fcc7,_0x223a6a){_0x14fcc7=_0x14fcc7-0xca;let _0x21f986=_0x359066[_0x14fcc7];return _0x21f986;},a3_0xfcbb(_0x1cb5ee,_0x5bb34e);}const {Pool}=require('pg');let s=require(a3_0x84ee67(0xcc));var dbUrl=s['DATABASE_URL']?s[a3_0x84ee67(0xec)]:a3_0x84ee67(0xd7);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);async function createAntilienTable(){const _0x1f41e3=a3_0x84ee67,_0x2a673c=(function(){let _0x40f8db=!![];return function(_0x184861,_0x11ceb9){const _0xfdc335=_0x40f8db?function(){const _0x957cfc=a3_0xfcbb;if(_0x11ceb9){const _0x492742=_0x11ceb9[_0x957cfc(0xe1)](_0x184861,arguments);return _0x11ceb9=null,_0x492742;}}:function(){};return _0x40f8db=![],_0xfdc335;};}()),_0x2f3730=_0x2a673c(this,function(){const _0x4799c4=a3_0xfcbb;return _0x2f3730[_0x4799c4(0xd9)]()[_0x4799c4(0xea)](_0x4799c4(0xe6))[_0x4799c4(0xd9)]()[_0x4799c4(0xee)](_0x2f3730)[_0x4799c4(0xea)](_0x4799c4(0xe6));});_0x2f3730();const _0x2ef054=await pool[_0x1f41e3(0xe8)]();try{await _0x2ef054[_0x1f41e3(0xda)]('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20antilien\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20text\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20etat\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20action\x20text\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20'),console[_0x1f41e3(0xd1)](_0x1f41e3(0xcd));}catch(_0x150c6d){console[_0x1f41e3(0xce)](_0x1f41e3(0xdd),_0x150c6d);}finally{_0x2ef054[_0x1f41e3(0xef)]();}}createAntilienTable();async function ajouterOuMettreAJourJid(_0x3c5344,_0x53673b){const _0x3f2ca1=a3_0x84ee67,_0x5940d7=await pool[_0x3f2ca1(0xe8)]();try{const _0x40f43b=await _0x5940d7['query'](_0x3f2ca1(0xeb),[_0x3c5344]),_0x266739=_0x40f43b[_0x3f2ca1(0xf4)]['length']>0x0;_0x266739?await _0x5940d7['query'](_0x3f2ca1(0xf0),[_0x53673b,_0x3c5344]):await _0x5940d7[_0x3f2ca1(0xda)](_0x3f2ca1(0xcf),[_0x3c5344,_0x53673b,_0x3f2ca1(0xf3)]),console['log'](_0x3f2ca1(0xde)+_0x3c5344+_0x3f2ca1(0xd2));}catch(_0x3c8c6d){console[_0x3f2ca1(0xce)](_0x3f2ca1(0xd8),_0x3c8c6d);}finally{_0x5940d7[_0x3f2ca1(0xef)]();}};async function mettreAJourAction(_0x516eb5,_0x69d178){const _0x261373=a3_0x84ee67,_0x8f400c=await pool[_0x261373(0xe8)]();try{const _0x108980=await _0x8f400c[_0x261373(0xda)](_0x261373(0xeb),[_0x516eb5]),_0x3c765d=_0x108980[_0x261373(0xf4)][_0x261373(0xe5)]>0x0;_0x3c765d?await _0x8f400c['query'](_0x261373(0xd6),[_0x69d178,_0x516eb5]):await _0x8f400c[_0x261373(0xda)]('INSERT\x20INTO\x20antilien\x20(jid,\x20etat,\x20action)\x20VALUES\x20($1,\x20$2,\x20$3)',[_0x516eb5,_0x261373(0xf2),_0x69d178]),console[_0x261373(0xd1)]('Action\x20mise\x20à\x20jour\x20avec\x20succès\x20pour\x20le\x20JID\x20'+_0x516eb5+'\x20dans\x20la\x20table\x20\x27antilien\x27.');}catch(_0xff8a7e){console[_0x261373(0xce)]('Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27action\x20pour\x20le\x20JID\x20dans\x20la\x20table\x20\x20:',_0xff8a7e);}finally{_0x8f400c[_0x261373(0xef)]();}};async function verifierEtatJid(_0x1884c7){const _0x39b604=a3_0x84ee67,_0x6c973f=await pool[_0x39b604(0xe8)]();try{const _0x2ae95f=await _0x6c973f[_0x39b604(0xda)](_0x39b604(0xca),[_0x1884c7]);if(_0x2ae95f[_0x39b604(0xf4)]['length']>0x0){const _0x14139c=_0x2ae95f[_0x39b604(0xf4)][0x0][_0x39b604(0xe4)];return _0x14139c===_0x39b604(0xf5);}else return![];}catch(_0x18caef){return console['error']('Erreur\x20lors\x20de\x20la\x20vérification\x20de\x20l\x27état\x20du\x20JID\x20dans\x20la\x20table\x20',_0x18caef),![];}finally{_0x6c973f[_0x39b604(0xef)]();}}function a3_0x21f9(){const _0x4a02a3=['error','INSERT\x20INTO\x20antilien\x20(jid,\x20etat,\x20action)\x20VALUES\x20($1,\x20$2,\x20$3)','33YJebCB','log','\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20succès\x20dans\x20la\x20table\x20\x27antilien\x27.','6iroDBl','2420362UMMUDt','1iaJDQD','UPDATE\x20antilien\x20SET\x20action\x20=\x20$1\x20WHERE\x20jid\x20=\x20$2','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20du\x20JID\x20dans\x20la\x20table\x20,','toString','query','SELECT\x20action\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','785323Xciews','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27antilien\x27:','JID\x20','action','4235060fjJSfW','apply','1692603lCLful','73593zfwglB','etat','length','(((.+)+)+)+$','exports','connect','2943936MruhNF','search','SELECT\x20*\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','DATABASE_URL','config','constructor','release','UPDATE\x20antilien\x20SET\x20etat\x20=\x20$1\x20WHERE\x20jid\x20=\x20$2','1988790cGhwtH','non','supp','rows','oui','64kKiAoe','SELECT\x20etat\x20FROM\x20antilien\x20WHERE\x20jid\x20=\x20$1','dotenv','../set','La\x20table\x20\x27antilien\x27\x20a\x20été\x20créée\x20avec\x20succès.'];a3_0x21f9=function(){return _0x4a02a3;};return a3_0x21f9();};async function recupererActionJid(_0x1e86f6){const _0x124d83=a3_0x84ee67,_0x4efeb6=await pool[_0x124d83(0xe8)]();try{const _0x306f53=await _0x4efeb6['query'](_0x124d83(0xdb),[_0x1e86f6]);if(_0x306f53[_0x124d83(0xf4)][_0x124d83(0xe5)]>0x0){const _0x1c4e4a=_0x306f53[_0x124d83(0xf4)][0x0][_0x124d83(0xdf)];return _0x1c4e4a;}else return _0x124d83(0xf3);}catch(_0x37725a){return console[_0x124d83(0xce)]('Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27action\x20du\x20JID\x20dans\x20la\x20table\x20:',_0x37725a),_0x124d83(0xf3);}finally{_0x4efeb6[_0x124d83(0xef)]();}};module[a3_0x84ee67(0xe7)]={'mettreAJourAction':mettreAJourAction,'ajouterOuMettreAJourJid':ajouterOuMettreAJourJid,'verifierEtatJid':verifierEtatJid,'recupererActionJid':recupererActionJid};