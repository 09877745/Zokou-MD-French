const a0_0x14e0a0=a0_0x2c2b;(function(_0x3a6b42,_0x280bdd){const _0x3b2de6=a0_0x2c2b,_0xf40a6b=_0x3a6b42();while(!![]){try{const _0x4fca63=-parseInt(_0x3b2de6(0xc2))/0x1+parseInt(_0x3b2de6(0xc8))/0x2+-parseInt(_0x3b2de6(0xbe))/0x3+parseInt(_0x3b2de6(0xd2))/0x4*(parseInt(_0x3b2de6(0xd6))/0x5)+parseInt(_0x3b2de6(0xbc))/0x6*(parseInt(_0x3b2de6(0xbb))/0x7)+-parseInt(_0x3b2de6(0xc0))/0x8*(-parseInt(_0x3b2de6(0xb6))/0x9)+parseInt(_0x3b2de6(0xc4))/0xa*(parseInt(_0x3b2de6(0xb7))/0xb);if(_0x4fca63===_0x280bdd)break;else _0xf40a6b['push'](_0xf40a6b['shift']());}catch(_0x70135f){_0xf40a6b['push'](_0xf40a6b['shift']());}}}(a0_0x198a,0x840bb));const a0_0x330d29=(function(){let _0x238b69=!![];return function(_0x4f4833,_0x620b3b){const _0x430ec3=_0x238b69?function(){const _0x3b5b22=a0_0x2c2b;if(_0x620b3b){const _0x4967a5=_0x620b3b[_0x3b5b22(0xd4)](_0x4f4833,arguments);return _0x620b3b=null,_0x4967a5;}}:function(){};return _0x238b69=![],_0x430ec3;};}()),a0_0x3a3fb8=a0_0x330d29(this,function(){const _0x115eb9=a0_0x2c2b;return a0_0x3a3fb8['toString']()[_0x115eb9(0xba)](_0x115eb9(0xcf))[_0x115eb9(0xd5)]()[_0x115eb9(0xc6)](a0_0x3a3fb8)[_0x115eb9(0xba)](_0x115eb9(0xcf));});function a0_0x198a(){const _0x573b6f=['DATABASE_URL','L\x27enregistrement\x20AFK\x20n\x27existe\x20pas.','succes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20afk\x0a\x20\x20\x20\x20\x20\x20\x20\x20SET\x20etat\x20=\x20$1\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20$2\x0a\x20\x20\x20\x20\x20\x20\x20\x20RETURNING\x20*;\x0a\x20\x20\x20\x20\x20\x20','(((.+)+)+)+$','L\x27enregistrement\x20AFK\x20a\x20été\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20succès.','query','1552EicKbn','config','apply','toString','6815dBLxUp','18aAtWVQ','11vChnJN','Une\x20erreur\x20est\x20survenue\x20lors\x20du\x20changement\x20de\x20l\x27état\x20de\x20l\x27enregistrement\x20AFK:','dotenv','search','15897CmaIES','1152GisXdN','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20afk\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20$1;\x0a\x20\x20\x20\x20\x20\x20','441474QuUdQC','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27enregistrement\x20AFK\x20par\x20ID:','974264bImvbo','../set','1007757MoEihj','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','2978930RWpTdD','La\x20table\x20\x27afk\x27\x20a\x20été\x20créée\x20avec\x20succès.','constructor','error','378878StztgR','\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20afk\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20serial\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20etat\x20text\x20DEFAULT\x20\x27off\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lien\x20text\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20','log'];a0_0x198a=function(){return _0x573b6f;};return a0_0x198a();}a0_0x3a3fb8(),require(a0_0x14e0a0(0xb9))[a0_0x14e0a0(0xd3)]();const {Pool}=require('pg'),s=require(a0_0x14e0a0(0xc1));var dbUrl=s[a0_0x14e0a0(0xcb)]?s[a0_0x14e0a0(0xcb)]:a0_0x14e0a0(0xc3);const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig),creerTableAfk=async()=>{const _0x2466a9=a0_0x14e0a0;try{await pool[_0x2466a9(0xd1)](_0x2466a9(0xc9)),console[_0x2466a9(0xca)](_0x2466a9(0xc5));}catch(_0x14a912){console[_0x2466a9(0xc7)]('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27afk\x27:',_0x14a912);}};creerTableAfk();async function addOrUpdateAfk(_0x373c0d,_0x25743a,_0x22bd99){const _0x49e77b=a0_0x14e0a0;try{await pool[_0x49e77b(0xd1)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20afk\x20(id,\x20message,\x20lien)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x20$2,\x20$3)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20message\x20=\x20$2,\x20lien\x20=\x20$3;\x0a\x20\x20\x20\x20\x20\x20',[_0x373c0d,_0x25743a,_0x22bd99]),console['log'](_0x49e77b(0xd0));}catch(_0x46d759){console[_0x49e77b(0xc7)]('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27enregistrement\x20AFK:',_0x46d759);}}async function getAfkById(_0x4bd0f7){const _0x26aeb6=a0_0x14e0a0;try{const {rows:_0x51934c}=await pool['query'](_0x26aeb6(0xbd),[_0x4bd0f7]);return _0x51934c[0x0];}catch(_0xf6202a){return console[_0x26aeb6(0xc7)](_0x26aeb6(0xbf),_0xf6202a),null;}};function a0_0x2c2b(_0x2a953b,_0x5462b0){const _0x35e3ba=a0_0x198a();return a0_0x2c2b=function(_0x3a3fb8,_0x330d29){_0x3a3fb8=_0x3a3fb8-0xb6;let _0x198a2b=_0x35e3ba[_0x3a3fb8];return _0x198a2b;},a0_0x2c2b(_0x2a953b,_0x5462b0);}async function changeAfkState(_0x2326c4,_0xcce438){const _0x561b07=a0_0x14e0a0;try{const _0xe332df=await pool[_0x561b07(0xd1)](_0x561b07(0xce),[_0xcce438,_0x2326c4]);return _0xe332df['rows']['length']===0x0?(console[_0x561b07(0xca)](_0x561b07(0xcc)),'not\x20defined'):(console[_0x561b07(0xca)]('L\x27état\x20de\x20l\x27enregistrement\x20AFK\x20a\x20été\x20modifié\x20avec\x20succès.'),_0x561b07(0xcd));}catch(_0x303e38){console[_0x561b07(0xc7)](_0x561b07(0xb8),_0x303e38);}}module['exports']={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};