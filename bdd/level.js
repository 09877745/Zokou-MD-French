function a9_0x5afe(){const _0x1216a4=['9jhtvHk','439068OtwOMV','UPDATE\x20users_rank\x20SET\x20xp\x20=\x20xp\x20+\x20$2,\x20messages\x20=\x20messages\x20+\x20$3\x20WHERE\x20jid\x20=\x20$1','constructor','6oDtoEr','55uLWsJZ','Erreur\x20lors\x20de\x20la\x20mise\x20à\x20jour\x20des\x20données\x20de\x20l\x27utilisateur:','postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9','toString','298243VYPCMS','DATABASE_URL','config','11762806RTgJWe','Erreur\x20lors\x20de\x20la\x20récupération\x20du\x20bottom\x2010\x20des\x20utilisateurs:','exports','(((.+)+)+)+$','release','query','rows','SELECT\x20jid,\x20xp\x20,\x20messages\x20FROM\x20users_rank\x20ORDER\x20BY\x20xp\x20DESC\x20LIMIT\x2010','search','error','apply','1289850kEpGXa','Erreur\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20users_rank:','444848AUptbU','SELECT\x20*\x20FROM\x20users_rank\x20WHERE\x20jid\x20=\x20$1','dotenv','1482532RlxUhQ','SELECT\x20messages,\x20xp\x20FROM\x20users_rank\x20WHERE\x20jid\x20=\x20$1','2046160UWKyAq','7STcNpC','connect','length','INSERT\x20INTO\x20users_rank\x20(jid,\x20xp,\x20messages)\x20VALUES\x20($1,\x20$2,\x20$3)','\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users_rank\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20SERIAL\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20jid\x20VARCHAR(255)\x20UNIQUE,\x0a\x20\x20\x20\x20\x20\x20\x20\x20xp\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20\x20\x20messages\x20INTEGER\x20DEFAULT\x200\x0a\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20'];a9_0x5afe=function(){return _0x1216a4;};return a9_0x5afe();}const a9_0x4879b3=a9_0x200c;(function(_0x34d42e,_0x4b9dfd){const _0x1f4dde=a9_0x200c,_0x43e4f2=_0x34d42e();while(!![]){try{const _0x4ab3c8=parseInt(_0x1f4dde(0xf3))/0x1+parseInt(_0x1f4dde(0x103))/0x2+-parseInt(_0x1f4dde(0xee))/0x3*(parseInt(_0x1f4dde(0x106))/0x4)+-parseInt(_0x1f4dde(0xef))/0x5*(parseInt(_0x1f4dde(0xeb))/0x6)+parseInt(_0x1f4dde(0x109))/0x7*(parseInt(_0x1f4dde(0x108))/0x8)+parseInt(_0x1f4dde(0xea))/0x9*(parseInt(_0x1f4dde(0x101))/0xa)+parseInt(_0x1f4dde(0xf6))/0xb;if(_0x4ab3c8===_0x4b9dfd)break;else _0x43e4f2['push'](_0x43e4f2['shift']());}catch(_0x46d796){_0x43e4f2['push'](_0x43e4f2['shift']());}}}(a9_0x5afe,0x68a00),require(a9_0x4879b3(0x105))[a9_0x4879b3(0xf5)]());const {Pool}=require('pg'),s=require('../set'),dbUrl=s[a9_0x4879b3(0xf4)]?s[a9_0x4879b3(0xf4)]:a9_0x4879b3(0xf1),proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig);function a9_0x200c(_0x10683b,_0x53f044){const _0x3382d6=a9_0x5afe();return a9_0x200c=function(_0x5f19b5,_0x1235fc){_0x5f19b5=_0x5f19b5-0xe6;let _0x5afebb=_0x3382d6[_0x5f19b5];return _0x5afebb;},a9_0x200c(_0x10683b,_0x53f044);}async function createUsersRankTable(){const _0x18b928=a9_0x4879b3,_0x7f4315=(function(){let _0x43ff98=!![];return function(_0x195df3,_0x1824b4){const _0x101533=_0x43ff98?function(){const _0x3af56b=a9_0x200c;if(_0x1824b4){const _0x3fac19=_0x1824b4[_0x3af56b(0x100)](_0x195df3,arguments);return _0x1824b4=null,_0x3fac19;}}:function(){};return _0x43ff98=![],_0x101533;};}()),_0x5d4985=_0x7f4315(this,function(){const _0x1c6343=a9_0x200c;return _0x5d4985[_0x1c6343(0xf2)]()[_0x1c6343(0xfe)](_0x1c6343(0xf9))[_0x1c6343(0xf2)]()[_0x1c6343(0xed)](_0x5d4985)[_0x1c6343(0xfe)]('(((.+)+)+)+$');});_0x5d4985();const _0xccb38b=await pool[_0x18b928(0xe6)]();try{await _0xccb38b[_0x18b928(0xfb)](_0x18b928(0xe9));}catch(_0x578849){console['error'](_0x18b928(0x102),_0x578849);}finally{_0xccb38b[_0x18b928(0xfa)]();}}async function ajouterOuMettreAJourUserData(_0x4ba453,_0x437082=0xa,_0x500110=0x1){const _0x3664b3=a9_0x4879b3,_0x2a58ee=await pool[_0x3664b3(0xe6)]();try{const _0x26effb=await _0x2a58ee['query'](_0x3664b3(0x104),[_0x4ba453]),_0x5f28fa=_0x26effb[_0x3664b3(0xfc)]['length']>0x0;_0x5f28fa?await _0x2a58ee[_0x3664b3(0xfb)](_0x3664b3(0xec),[_0x4ba453,_0x437082,_0x500110]):await _0x2a58ee['query'](_0x3664b3(0xe8),[_0x4ba453,_0x437082,_0x500110]);}catch(_0x289962){console[_0x3664b3(0xff)](_0x3664b3(0xf0),_0x289962);}finally{_0x2a58ee[_0x3664b3(0xfa)]();}};async function getMessagesAndXPByJID(_0x4c26f9){const _0x275130=a9_0x4879b3,_0x2c34e7=await pool[_0x275130(0xe6)]();try{const _0x2c9506=_0x275130(0x107),_0x387354=await _0x2c34e7[_0x275130(0xfb)](_0x2c9506,[_0x4c26f9]);if(_0x387354[_0x275130(0xfc)][_0x275130(0xe7)]>0x0){const {messages:_0x36114c,xp:_0x351528}=_0x387354['rows'][0x0];return{'messages':_0x36114c,'xp':_0x351528};}else return{'messages':0x0,'xp':0x0};}catch(_0x54bccd){return console[_0x275130(0xff)]('Erreur\x20lors\x20de\x20la\x20récupération\x20des\x20données\x20de\x20l\x27utilisateur:',_0x54bccd),{'messages':0x0,'xp':0x0};}finally{_0x2c34e7[_0x275130(0xfa)]();}}async function getBottom10Users(){const _0x5b67cc=a9_0x4879b3,_0xd28ab1=await pool[_0x5b67cc(0xe6)]();try{const _0x489c3c=_0x5b67cc(0xfd),_0x30a316=await _0xd28ab1[_0x5b67cc(0xfb)](_0x489c3c);return _0x30a316['rows'];}catch(_0x100f0a){return console[_0x5b67cc(0xff)](_0x5b67cc(0xf7),_0x100f0a),[];}finally{_0xd28ab1[_0x5b67cc(0xfa)]();}}createUsersRankTable(),module[a9_0x4879b3(0xf8)]={'ajouterOuMettreAJourUserData':ajouterOuMettreAJourUserData,'getMessagesAndXPByJID':getMessagesAndXPByJID,'getBottom10Users':getBottom10Users};